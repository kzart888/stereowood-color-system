# 更新日志 / CHANGELOG

所有重要的变更都会记录在此文件中。

## [0.8.1] - 2025-01-03

### 🎯 重大改进
- **后端架构重构完成** - 删除1090行旧的monolithic server.js，替换为100行精简模块化版本
- **模块化路由连接** - 所有API路由现在通过 `backend/routes/index.js` 正确连接
- **代码大清理** - 删除超过3400行的过时代码和备份文件

### ✨ 新增功能
- 添加数据库备份脚本 (`scripts/backup.js`)
- 添加数据库恢复脚本 (`scripts/restore.js`)
- 备份脚本自动清理旧备份（保留最近10个）

### 🐛 修复
- 修复作品配色管理中"算"按钮在层号优先模式下不显示的问题
- 修复配方chips显示问题，现在与"适用层"chips保持一致的样式
- 修复表格单元格布局，实现左中右三列均匀分布
- 修复 `mont-marte-colors.js` 中的语法错误（重复代码）

### 🗑️ 删除的文件
- `backend/server.js` (1090行旧版本)
- `frontend/js/components/artworks-backup-20250829_010728.js`
- `frontend/js/components/custom-colors-backup-20250829_010717.js`
- `README_simple.md`
- `docs/REFACTORING_PLAN.md`
- `docs/REFACTORING_STATUS.md`
- `docs/development/ARTWORKS_REFACTORING_PLAN.md`
- `frontend/js/composables/` (空目录)
- `frontend/js/stores/` (空目录)
- `nul` (Windows空设备文件)

### 📝 文档更新
- 更新 README.md 版本信息
- 更新 CLAUDE.md 添加当前状态说明
- 创建本 CHANGELOG.md 文件
- 更新 .gitignore 和 .dockerignore

## [0.8.0] - 2025-08-28

### ✨ 系统优化
- 移除缓存系统，实现实时数据更新
- 取消图片自动压缩，直接存储原图
- 删除未使用文件，项目结构更清晰
- 自配色列表间距优化，支持完整打印功能
- 修复计算器点击穿透问题

### 🏗️ 后端模块化
- 数据库层分离到 `db/` 目录
- 服务层创建在 `services/` 目录
- 路由层分离到 `routes/` 目录
- 中间件提取到 `middleware/` 目录

## [0.7.6] - 2025-08-27

### 🏗️ 重构完成
- 后端完全模块化
- Phase4重构：计算表超配完成
- 文档体系重构：建立标准化维护机制
- 自配色列表功能：新增颜色列表展示和管理

## [0.7.5] - 2025-08-26

### ⚡ 性能优化
- 缓存机制和查重算法优化
- 配方计算器：超配重平衡功能完善
- 查重系统：智能重复检测和合并功能

## [0.7.0] - 2025-08-25

### 🎨 初始版本
- 自配颜色管理系统
- 作品配色管理
- 蒙马特原料管理
- 配方计算器
- 查重检测功能

---

## 版本号说明

版本号遵循语义化版本规范：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

## 维护说明

本系统为内部工厂使用，由2人团队维护，服务3-5个用户。所有调试信息和日志都保留以便于维护。