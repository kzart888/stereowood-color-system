# STEREOWOOD Color System é‡æ„è®¡åˆ’

## ğŸ“‹ é‡æ„æ¦‚è§ˆ

åŸºäºå¯¹é¡¹ç›®çš„å®Œæ•´åˆ†æï¼Œåˆ¶å®šæ­¤é‡æ„è®¡åˆ’ï¼Œéµå¾ª"ç²¾ç®€ã€å‡†ç¡®ã€ä¼˜é›…"çš„åŸåˆ™ï¼Œä¿æŒåŠŸèƒ½ä¸å˜çš„åŒæ—¶ä¼˜åŒ–ä»£ç ç»“æ„ã€‚

## ğŸ¯ é‡æ„ç›®æ ‡

1. **ä»£ç æ¨¡å—åŒ–** - æ‹†åˆ†å¤§æ–‡ä»¶ï¼Œæé«˜å¯ç»´æŠ¤æ€§
2. **æ ·å¼åˆ†ç¦»** - CSSæŒ‰ç»„ä»¶/åŠŸèƒ½æ‹†åˆ†
3. **æ³¨é‡Šå®Œå–„** - æ·»åŠ ç»´æŠ¤è¯´æ˜å’Œæ–‡æ¡£é“¾æ¥
4. **æ€§èƒ½ä¼˜åŒ–** - å‡å°‘é‡å¤ä»£ç ï¼Œæå‡åŠ è½½é€Ÿåº¦
5. **æ¸…ç†å†—ä½™** - åˆ é™¤æœªä½¿ç”¨çš„ä»£ç å’Œæ–‡ä»¶

## ğŸ“Š å½“å‰çŠ¶æ€åˆ†æ

### éœ€è¦é‡æ„çš„æ ¸å¿ƒæ–‡ä»¶
| æ–‡ä»¶ | è¡Œæ•° | é—®é¢˜ | ä¼˜å…ˆçº§ |
|-----|------|------|--------|
| backend/server.js | 1090 | æ‰€æœ‰è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘æ··åœ¨ä¸€èµ· | ğŸ”´ é«˜ |
| frontend/css/styles.css | 1412 | æ‰€æœ‰æ ·å¼åœ¨ä¸€ä¸ªæ–‡ä»¶ | ğŸ”´ é«˜ |
| custom-colors.js | 1247 | ç»„ä»¶è¿‡å¤§ï¼ŒèŒè´£è¿‡å¤š | ğŸŸ¡ ä¸­ |
| artworks.js | 1021 | å¤æ‚åº¦é«˜ï¼Œéš¾ä»¥ç»´æŠ¤ | ğŸŸ¡ ä¸­ |
| formula-calculator.js | 616 | å¯æ¥å—ï¼Œä½†å¯ä¼˜åŒ– | ğŸŸ¢ ä½ |
| mont-marte.js | 592 | å¯æ¥å—ï¼Œä½†å¯ä¼˜åŒ– | ğŸŸ¢ ä½ |

## ğŸ› ï¸ é‡æ„æ–¹æ¡ˆ

### Phase 1: åç«¯æ¨¡å—åŒ– (2-3å¤©)

#### 1.1 æ•°æ®åº“å±‚åˆ†ç¦»
```
backend/
â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ index.js         # æ•°æ®åº“è¿æ¥å’Œåˆå§‹åŒ–
â”‚   â”œâ”€â”€ migrations.js    # æ•°æ®è¿ç§»
â”‚   â””â”€â”€ queries/         # SQLæŸ¥è¯¢æ¨¡å—
â”‚       â”œâ”€â”€ colors.js    # é¢œè‰²ç›¸å…³æŸ¥è¯¢
â”‚       â”œâ”€â”€ artworks.js  # ä½œå“ç›¸å…³æŸ¥è¯¢
â”‚       â””â”€â”€ materials.js # åŸæ–™ç›¸å…³æŸ¥è¯¢
```

#### 1.2 æœåŠ¡å±‚åˆ›å»º
```
backend/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ ColorService.js     # é¢œè‰²ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ ArtworkService.js   # ä½œå“ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ MaterialService.js  # åŸæ–™ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ ImageService.js     # å›¾ç‰‡å¤„ç†é€»è¾‘
```

#### 1.3 è·¯ç”±åˆ†ç¦»
```
backend/
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ colors.js    # /api/custom-colors/*
â”‚   â”œâ”€â”€ artworks.js  # /api/artworks/*
â”‚   â””â”€â”€ materials.js # /api/mont-marte/*
```

#### 1.4 ä¸­é—´ä»¶æå–
```
backend/
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ upload.js    # æ–‡ä»¶ä¸Šä¼ é…ç½®
â”‚   â”œâ”€â”€ error.js     # é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ cors.js      # CORSé…ç½®
```

**é‡æ„å server.js é¢„è®¡ï¼š~100è¡Œ**

### Phase 2: å‰ç«¯æ ·å¼æ¨¡å—åŒ– (1-2å¤©)

#### 2.1 CSSæ–‡ä»¶æ‹†åˆ†
```
frontend/css/
â”œâ”€â”€ base/
â”‚   â”œâ”€â”€ reset.css        # é‡ç½®æ ·å¼
â”‚   â”œâ”€â”€ variables.css    # CSSå˜é‡
â”‚   â””â”€â”€ typography.css   # å­—ä½“æ ·å¼
â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ header.css       # å¤´éƒ¨æ ·å¼
â”‚   â””â”€â”€ main.css         # ä¸»å¸ƒå±€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ custom-colors.css    # è‡ªé…è‰²ç»„ä»¶
â”‚   â”œâ”€â”€ artworks.css        # ä½œå“ç»„ä»¶
â”‚   â”œâ”€â”€ mont-marte.css      # åŸæ–™ç»„ä»¶
â”‚   â”œâ”€â”€ formula-calc.css    # è®¡ç®—å™¨æ ·å¼
â”‚   â””â”€â”€ common.css          # é€šç”¨ç»„ä»¶æ ·å¼
â”œâ”€â”€ utilities/
â”‚   â”œâ”€â”€ helpers.css      # å·¥å…·ç±»
â”‚   â””â”€â”€ animations.css   # åŠ¨ç”»æ•ˆæœ
â””â”€â”€ index.css           # ä¸»å…¥å£æ–‡ä»¶(@import)
```

### Phase 3: å‰ç«¯ç»„ä»¶ä¼˜åŒ– (2-3å¤©)

#### 3.1 custom-colors.js æ‹†åˆ†
```
components/
â”œâ”€â”€ custom-colors/
â”‚   â”œâ”€â”€ index.js           # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ ColorList.js       # é¢œè‰²åˆ—è¡¨
â”‚   â”œâ”€â”€ ColorForm.js       # é¢œè‰²è¡¨å•
â”‚   â”œâ”€â”€ ColorCard.js       # é¢œè‰²å¡ç‰‡
â”‚   â””â”€â”€ DuplicateModal.js  # æŸ¥é‡å¼¹çª—
```

#### 3.2 artworks.js æ‹†åˆ†
```
components/
â”œâ”€â”€ artworks/
â”‚   â”œâ”€â”€ index.js          # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ ArtworkList.js    # ä½œå“åˆ—è¡¨
â”‚   â”œâ”€â”€ SchemeEditor.js   # æ–¹æ¡ˆç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ LayerMatrix.js    # å±‚çŸ©é˜µè§†å›¾
â”‚   â””â”€â”€ ThumbnailView.js  # ç¼©ç•¥å›¾ç»„ä»¶
```

#### 3.3 é€šç”¨ç»„ä»¶æŠ½å–
```
components/common/
â”œâ”€â”€ ConflictResolver.js  # å·²å­˜åœ¨
â”œâ”€â”€ ImageUploader.js     # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”œâ”€â”€ SearchBar.js         # æœç´¢ç»„ä»¶
â”œâ”€â”€ ColorPicker.js       # é¢œè‰²é€‰æ‹©å™¨
â””â”€â”€ DataTable.js         # æ•°æ®è¡¨æ ¼
```

### Phase 4: APIå±‚ç»Ÿä¸€ (1å¤©)

#### 4.1 åˆ›å»ºç»Ÿä¸€APIæ¨¡å—
```
frontend/js/api/
â”œâ”€â”€ index.js          # APIåŸºç±»å’Œé…ç½®
â”œâ”€â”€ colors.js         # é¢œè‰²API
â”œâ”€â”€ artworks.js       # ä½œå“API
â”œâ”€â”€ materials.js      # åŸæ–™API
â””â”€â”€ utils.js          # APIå·¥å…·å‡½æ•°
```

### Phase 5: å·¥å…·å‡½æ•°æ•´ç† (1å¤©)

#### 5.1 å·¥å…·æ¨¡å—è§„èŒƒåŒ–
```
frontend/js/utils/
â”œâ”€â”€ validators.js     # éªŒè¯å‡½æ•°
â”œâ”€â”€ formatters.js     # æ ¼å¼åŒ–å‡½æ•°
â”œâ”€â”€ helpers.js        # è¾…åŠ©å‡½æ•°
â”œâ”€â”€ constants.js      # å¸¸é‡å®šä¹‰
â””â”€â”€ storage.js        # æœ¬åœ°å­˜å‚¨
```

### Phase 6: æ¸…ç†å’Œä¼˜åŒ– (1å¤©)

#### 6.1 åˆ é™¤æ¸…å•
- æœªä½¿ç”¨çš„å›¾ç‰‡å’Œèµ„æºæ–‡ä»¶
- æ³¨é‡Šæ‰çš„ä»£ç å—
- è°ƒè¯•ç”¨çš„console.log
- å†—ä½™çš„CSSè§„åˆ™
- æœªå¼•ç”¨çš„JavaScriptå‡½æ•°

#### 6.2 æ€§èƒ½ä¼˜åŒ–
- å›¾ç‰‡æ‡’åŠ è½½å®ç°
- CSSæ–‡ä»¶åˆå¹¶å’Œå‹ç¼©
- JavaScriptä»£ç å‹ç¼©
- æ·»åŠ æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶

## ğŸ“ å®æ–½æ­¥éª¤

### å‡†å¤‡é˜¶æ®µ
1. âœ… åˆ›å»ºå®Œæ•´å¤‡ä»½
2. âœ… æ–‡æ¡£æ•´ç†å®Œæˆ
3. âœ… åˆ¶å®šé‡æ„è®¡åˆ’

### æ‰§è¡Œé˜¶æ®µï¼ˆå»ºè®®é¡ºåºï¼‰

#### Week 1: åŸºç¡€é‡æ„
- **Day 1-2**: åç«¯æ¨¡å—åŒ–
  - åˆ›å»ºç›®å½•ç»“æ„
  - åˆ†ç¦»æ•°æ®åº“æ“ä½œ
  - æŠ½å–æœåŠ¡å±‚
  - è·¯ç”±æ¨¡å—åŒ–
  
- **Day 3**: CSSæ¨¡å—åŒ–
  - åˆ›å»ºCSSç›®å½•ç»“æ„
  - æŒ‰ç»„ä»¶æ‹†åˆ†æ ·å¼
  - åˆ›å»ºindex.csså…¥å£

- **Day 4-5**: APIå±‚å’Œå·¥å…·å‡½æ•°
  - åˆ›å»ºç»Ÿä¸€APIå±‚
  - æ•´ç†å·¥å…·å‡½æ•°
  - æ·»åŠ JSDocæ³¨é‡Š

#### Week 2: ç»„ä»¶ä¼˜åŒ–
- **Day 6-7**: é‡æ„custom-colorsç»„ä»¶
- **Day 8-9**: é‡æ„artworksç»„ä»¶
- **Day 10**: æ¸…ç†å’Œæµ‹è¯•

## âš ï¸ é£é™©æ§åˆ¶

1. **é€æ­¥é‡æ„** - æ¯ä¸ªPhaseç‹¬ç«‹å®Œæˆå’Œæµ‹è¯•
2. **åŠŸèƒ½ä¸å˜** - ç¡®ä¿ç”¨æˆ·ä½“éªŒå®Œå…¨ä¸€è‡´
3. **ç‰ˆæœ¬æ§åˆ¶** - æ¯ä¸ªPhaseåˆ›å»ºgitæ ‡ç­¾
4. **å›é€€æ–¹æ¡ˆ** - ä¿ç•™åŸå§‹ä»£ç å¤‡ä»½
5. **æµ‹è¯•éªŒè¯** - æ¯æ­¥é‡æ„åå……åˆ†æµ‹è¯•

## ğŸ“Š é¢„æœŸæˆæœ

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æ”¹å–„ |
|-----|------|------|------|
| server.js | 1090è¡Œ | ~100è¡Œ | -91% |
| styles.css | 1412è¡Œ | åˆ†æ•£åˆ°15+æ–‡ä»¶ | æ›´æ˜“ç»´æŠ¤ |
| æœ€å¤§ç»„ä»¶ | 1247è¡Œ | <500è¡Œ | -60% |
| ä»£ç æ³¨é‡Šç‡ | <10% | >30% | +200% |
| æ–‡ä»¶ç»„ç»‡ | æ··ä¹± | æ¸…æ™°åˆ†å±‚ | è´¨çš„æå‡ |

## ğŸ”„ åç»­ç»´æŠ¤

1. **ç¼–ç è§„èŒƒ** - å»ºç«‹å›¢é˜Ÿç¼–ç æ ‡å‡†
2. **ä»£ç å®¡æŸ¥** - å®æ–½PRå®¡æŸ¥æœºåˆ¶
3. **æ–‡æ¡£æ›´æ–°** - ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
4. **å®šæœŸé‡æ„** - æ¯å­£åº¦æŠ€æœ¯å€ºåŠ¡æ¸…ç†

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **ä¿æŒç®€å•** - ä¸è¿‡åº¦è®¾è®¡ï¼Œé€‚åˆ3-5äººå›¢é˜Ÿ
2. **æ¸è¿›æ”¹è¿›** - ä¸è¿½æ±‚å®Œç¾ï¼ŒæŒç»­ä¼˜åŒ–
3. **ä¸šåŠ¡ä¼˜å…ˆ** - ä¸å½±å“æ­£å¸¸åŠŸèƒ½ä½¿ç”¨
4. **æ³¨é‡Šå……åˆ†** - å…³é”®é€»è¾‘å¿…é¡»æœ‰æ³¨é‡Š
5. **æ–‡æ¡£é“¾æ¥** - ä»£ç æ³¨é‡Šé“¾æ¥åˆ°ç›¸å…³æ–‡æ¡£

## ğŸš€ æ‰§è¡Œè®°å½•

### 2025-01-27 æ‰§è¡Œè¿›åº¦

#### Phase 1: åç«¯æ¨¡å—åŒ– âœ… å®Œæˆ
- [x] åˆ›å»ºç›®å½•ç»“æ„
- [x] åˆ†ç¦»æ•°æ®åº“æ“ä½œ (db/queries/*)
- [x] æŠ½å–æœåŠ¡å±‚ (services/*)
- [x] è·¯ç”±æ¨¡å—åŒ– (routes/*)
- [x] ä¸­é—´ä»¶æå– (middleware/*)
- [x] å¤‡ä»½åŸå§‹æ–‡ä»¶

#### Phase 2: å‰ç«¯æ ·å¼æ¨¡å—åŒ– âœ… å®Œæˆ
- [x] åˆ›å»ºCSSç›®å½•ç»“æ„
- [x] åˆ†ç¦»CSSå˜é‡ (base/variables.css)
- [x] é‡ç½®æ ·å¼ (base/reset.css)
- [x] æ’ç‰ˆæ ·å¼ (base/typography.css)
- [x] å¸ƒå±€æ ·å¼ (layout/*)
- [x] ç»„ä»¶æ ·å¼ (components/*)
- [x] å·¥å…·ç±»å’ŒåŠ¨ç”» (utilities/*)
- [x] åˆ›å»ºå…¥å£æ–‡ä»¶ (index.css)
- [x] æ›´æ–°HTMLå¼•ç”¨

#### å·²å®Œæˆçš„æ¨¡å—
```
backend/
â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ index.js         âœ… æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ migrations.js    âœ… æ•°æ®è¿ç§»
â”‚   â””â”€â”€ queries/         âœ… æŸ¥è¯¢æ¨¡å—
â”‚       â”œâ”€â”€ colors.js
â”‚       â”œâ”€â”€ artworks.js
â”‚       â””â”€â”€ materials.js
â”œâ”€â”€ services/            âœ… ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ ColorService.js
â”‚   â”œâ”€â”€ ArtworkService.js
â”‚   â”œâ”€â”€ MaterialService.js
â”‚   â””â”€â”€ FormulaService.js
â”œâ”€â”€ routes/              âœ… è·¯ç”±æ¨¡å—
â”‚   â”œâ”€â”€ colors.js
â”‚   â”œâ”€â”€ artworks.js
â”‚   â””â”€â”€ materials.js
â”œâ”€â”€ middleware/          âœ… ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ upload.js
â”‚   â””â”€â”€ error.js
â””â”€â”€ server.js.backup     âœ… åŸå§‹å¤‡ä»½

frontend/css/
â”œâ”€â”€ base/               âœ… åŸºç¡€æ ·å¼
â”‚   â”œâ”€â”€ variables.css
â”‚   â”œâ”€â”€ reset.css
â”‚   â””â”€â”€ typography.css
â”œâ”€â”€ layout/            âœ… å¸ƒå±€æ ·å¼
â”‚   â”œâ”€â”€ header.css
â”‚   â””â”€â”€ main.css
â”œâ”€â”€ components/        âœ… ç»„ä»¶æ ·å¼
â”‚   â””â”€â”€ common.css
â”‚   â””â”€â”€ custom-colors.css
â”œâ”€â”€ utilities/         âœ… å·¥å…·æ ·å¼
â”‚   â””â”€â”€ animations.css
â”œâ”€â”€ index.css         âœ… å…¥å£æ–‡ä»¶
â””â”€â”€ styles.css.backup âœ… åŸå§‹å¤‡ä»½
```

#### ä¸‹ä¸€æ­¥è®¡åˆ’
- [ ] å®Œæˆå‰©ä½™ç»„ä»¶CSSæ–‡ä»¶
- [ ] é‡æ„server.jsä¸»æ–‡ä»¶ä»¥ä½¿ç”¨æ–°æ¨¡å—
- [ ] è¿›è¡Œé›†æˆæµ‹è¯•
- [ ] Phase 3: å‰ç«¯ç»„ä»¶ä¼˜åŒ–

---

**å¼€å§‹æ—¶é—´**: 2025-01-27
**é¢„è®¡å·¥æœŸ**: 8-10ä¸ªå·¥ä½œæ—¥
**æ‰§è¡Œäºº**: Claude Assistant